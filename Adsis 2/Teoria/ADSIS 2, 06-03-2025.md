estructura de programacion: modulos
directorios con cometidos diferentes:
- Maifests: dodnde sta todo el cofigo
	- init.pp
	- Puede haber directorios con diferentes manifiestos sobre el sistema
- Lib: librerias
- Test: tests
- Files
- Templates

Hacer nuestro propio módulo siguiendo las pautas

Templates
- variaciones de algunas lineas en configuracion del conjunto de maquinas
- se parecen a fichero de configuracion puppet
Clases parametrizadas:
- class mysql ($user, $port) {...}

La clase solo se aplica una vez

definicion (define) para parametrizar diferentes servidores web (o algo asi)

nodo tipo**

servicio de inventario: que recursos tienes en tu sistema
herramientas de extraccion y visualizacion deñ grafo de dependencias entre recursos

Preguntara que aporta la herramienta (puppet) de forma significativa y diferencial
- saber porque es bueno y en que sentido aporta 

# Empezamos tema 5a, Configuración distribuida de sistema

Utilizado en todos los servidores de windows

Posibilidades de comparticion:
- Servidores de directorio: LDAP, NIS, NIS+
- Compartición de información de configuracion de sistema

Informacion a compartir:
- subconjunto de ficheros  de configuracion del sistema:
	- /etc/passwd
	- /etc/gruop
	- /etc/services
		- servicios en red
		- Puertos donde se escucha los diferentes servicios en red
	- /etc/protocols
		- protocolos de red definidos para cada puerto
	- /etc/aliases
		- relacionado con un servidor de corre electronico
			- en algun momento si no tenias el servicio de correo electronico no se ponia en funcionamiento la maquina
		- Debia de estar coherente en las maquinas
	- /etc/rpc
		- numeros de procedimiento remoto 
	- /etc/netgroup
		- forma de nombrar grupos de maquinas en red
	- /etc/hosts

## LDAP: Light Directory Acces Protocol
Servicios de directorios:
- Informacion en arbol
- Muchos mas accesos en lectura que en escritura
- Normalmente sin operacion transaccional
- Distribucion de la informacion del arbol entre diferentes servidores
- Utiliza la replicación para mejor disponibilidad de información
- Posibilidad de control de accesos detallados

Fundamental: diseño de la base de datos y su distribucion (en diferentes seviidores, en el mismo, etc)

Ventajas:
- Interoperabilidad: utilizado en Unix y Windows
- Utilizado por cada vez mas subsistemas y aplicaciones
- Posibilidad de autentificacion, autorizacion y transmision cifrada con protocolos standard de SASL y SSL/TSL

Importacion / exportacion de informacion entre servidores: fichero con formato LDIF
Tendencia a generalizar los dominios de DNS en dominios LDAP, con información no solo de máquinas y servicios, sino usuarios, etc, etc, etc,..

Utilizacion LDAP en administración
- Implementaciones más relevantes utilizadas para compartir información de sistema :
	- OpenLDAP: multiplataforma (Linux, FreeBSD, Mac, Windows)
	- 389 Directory Server (Redhat)
	- Active Directory (Microsoft)
- TLS/SSL disponible para configuracion segura
- Posibilidad de administración remota de servidores LDAP con su propio protocolo y datos :
	- Identificador administrador y su contraseña
	- URL administrador
- Cuidado con modo multi-master

![[Pasted image 20250306172154.png]]

![[Pasted image 20250306172656.png]]

primero buscar en local, luego en lo montado en red
- tener controlado el nsswitch.conf

como se define la informacion de cuenta de usuario y el passwd y el etc/shadow
![[Pasted image 20250306173048.png]]

me he sobao en mitad de la clase y ha habido skip hasta la pag 21

NIS no lo ha explicado, si eso leerlo
