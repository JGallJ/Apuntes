## Tema 9, introduccion a kubernetes
diferentes soportes:
- clasica **minikube**, **kind** permite algunas cosas que minikube no puede
- Kubernetes se ejecute sobre maquinas fisicas para más rendimiento que ne virtuales
- Despliegue estar en maquinas fiscias/VMs con linux: kubeadm
- Instalación a mano (pero la vamos a descartar)

![[Pasted image 20250410160814.png]]
- No lo hacemos en la asignatura ya que se ha inflado y no es lo que quiere unai
- No implemento es un soporte de red en este modelo, era personalizable

Walmart esta en OpenStack y depende completamente de este

Componentes
- En la mayor parte de los casos ejecutados en Pods
- En el maestro
	- Gestionan la operativa global de un cluster
		- Ejecutar decisione de los usuarios
		- Detectar eventos del cluster y actuar en consecuencia
			- Caidas de maquinas: reejecutar sus aplicaciones en otra maquina
			- Caidas de pods: si perteneciente a Replica Set, arrancar nuevo Pod para satisfacer nº de replicas
		- Cada componente puede ejecutarse en una maquina diferente
			- En alta disponibilidda se define cada componente de forma replicada en diferentes maquinas
				- minimo 3 (Raft)
	- Basicos
		- kube-apiserver: ofrece el API de red para control remoto del cluster Kubernetes
		- etcd: Almacen de datos clave-valor para todos los datos de configuración persistente del cluster
		- Kube-scheduler: Decide la planificación de ejecución de qué Pods (o conjuntos de estos) en qué maquinas. Factores a tener en cuenta:
			- Requisitos de recursos de Pods (individuales y colectivos)
			- Restricciones de hardware/software/políticas
			- Especificaciones de afinidad y anti-afinidad
			- Interferencias de cargas de trabajo y tiempos límite de ejecución
		- kube-controller manager: Componente que ejecuta los diferentes controladores de kubernetes 
		- cloud-controller-manager: Ejecuta controladores que interaccionan con los proveedores Cloud subyacentes

un pod es un proceso que  cada vez se parece mas a un pc al completo

- En los nodos de ejecucion de aplicacioones
	- Se ejecutan en cada nodo para proveer el runtime local de ejecución de Pods y para gestionarlos en local
	- Básicos
		- Kubelet: Obtiene un conjutno de especificaciones de Pods que le son provistos por varios mecanismos de Kubernetes y se asegura que los contenedores definidos en esas especificaciones están ejecutandose de forma correcta
		- Kube-proxy: Soporte a la abstracción de Servicios en Kubernetes mediante reglas de operativa de red en la máquina que permite la reexpedición de conexiones de red.
		- Runtime de containers: oftware responsable de ejecutar los contenedores (Docker Rkt, Runc, etc)
	- Añadidos
		- Pods y servicios que implementan características adicionales para el cluster en el Namespace “kube-system” (pillar cariño a kube-system, de parte de unai)
		- Ejemplos notables
			- DNS
			- WEB IU

Seguridad
- Dos tipos de claves
	- Clave numerica token
	- Certificado digital
- COntrol de acceso al API de Kubernetes mediante kubectl, librerias clientes o peticiones REST
	- Aplicable a usuarios humanos o de sistema
	- Comunicaciones con el API mediante HTTPS

Autentificacion
- 

Autorización
- 

Control de admisión
- 

Kubectl
- kubectl \[command] \[TYPE] \[NAME] \[flags]
	- Command : operación a ejecutar sobre uno o varios recursos : create, get, etc
	- TYPE : Tipo de recurso : pods, namespaces, services, statefulsets, secrets, etc
	- NAME : Nombre(s) de recurso(s). Se puede especificar con ficheros
	- Flags : Banderas opcionales que pueden modificar valores por defecto de operaciones
![[Pasted image 20250410165827.png]]
![[Pasted image 20250410170102.png]]
## Tema 9b, conceptos kubernetes
