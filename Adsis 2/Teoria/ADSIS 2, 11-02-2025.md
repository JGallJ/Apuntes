# servidores DNS : NSD/Unbound

comando dig
- drill se inspira en este

## nsd
Funcionamiento de nsd:
- 2 elementos base:
	- Demonio nsd
	- Fichero de configuracion nsd.conf
		- ejemplo maestro:

![[Pasted image 20250211170952.png]]
- atribuido un usuario sin privilegios //sin terminar
- /var/log para cuando tienes problemas
- debajo del puerto estan los threads del server, en este caso 1
- zona donde meter los ficheros de texto del dns: /var/nsd/zones
	- atribucion de informacion de resolución inversa y directa

**Aspecto seguridad**
Maestro
![[Pasted image 20250211172003.png]]
- claves normalmente simetricas
- zona donde se define la ip inversa
- ff.es.eu.org.inverso
- toslave 
	- con el pattern definimos a que esclavo le notificamos (notify) y a quien le proveemos
	- aconsejan en torno a 3, para practicas 2

Esclavo
- parte inicial es identica
![[Pasted image 20250211172557.png]]
- una diferencia, en el esclavo no se tocan los ficheros de texto
	- todo lo que se modifica se debe modificar en el maestro
- expande a nivel de expresión


*Ni idea de que ha dicho de esto*
![[Pasted image 20250211173059.png]]

ponernos un unbound
- poner uno o dos para probar funcionamiento
- no vamos a probar prestaciones de forma intensa

Daemon: Unbond
Configuración: unbound.conf
Comprobación configuración: unbound-checkcon
Unbound-control, unbound-control-setup, unbound-host
- Unbound-host equivalente al comando host
![[Pasted image 20250211173519.png]]
- root-hints 

![[Pasted image 20250211173728.png]]

Saber si los peticiones de la red responden correctamente
- dig : bind
- drill : nsd
- host : mas sencillo

Información sacada del comando dig
- 0 ms router
- 50 ms no esta cerca
- 100 ms salto importante
![[Pasted image 20250211174016.png]]
- solo responde con los servidores publicos o visibles

nombre DNS se suele modificar poco
- la IP se cambia más
	- reorganización de elementos
- cambiar un nombre DNS puede tener implicaciones

![[Pasted image 20250211174928.png]]
- servicio recursivo con cache

operativa bind no va a entrar UNAI
